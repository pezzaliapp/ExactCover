
:root{--bg:#0f172a;--panel:#111827;--ink:#e5e7eb;--muted:#9ca3af;--line:#1f2937}
*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto}
.appbar{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;background:var(--panel);border-bottom:1px solid var(--line)}
.appbar img{width:28px;height:28px;border-radius:6px}
.appbar h1{font-size:1.1rem;margin:0}
.appbar .ver{color:var(--muted);font-size:.8rem}
main{display:grid;grid-template-columns:1fr 320px;gap:1rem;max-width:1100px;margin:1rem auto;padding:0 1rem}
.panel,.side{background:var(--panel);border:1px solid var(--line);border-radius:.9rem;padding:1rem}
.controls{display:flex;flex-wrap:wrap;gap:.5rem;margin:.5rem 0}
button{background:#22c55e;border:none;color:#04260e;border-radius:.5rem;padding:.45rem .7rem;font-weight:700;cursor:pointer}
button.ghost{background:transparent;border:1px solid var(--line);color:var(--ink)}
.status{color:var(--muted);margin:.5rem 0 1rem}
.board-wrap{position:relative}
.board{--w:10;--h:6;display:grid;grid-template-columns:repeat(var(--w),1fr);gap:2px;background:var(--line);border-radius:.5rem;overflow:hidden;user-select:none;touch-action:none}
.cell{aspect-ratio:1/1;background:#0b1220;position:relative}
.cell.dark{background:#0b1628}
.cell.hole{background:#1b0f0f}
.cell.piece{outline:2px solid rgba(255,255,255,.12);outline-offset:-2px}
.cell.preview::after{content:"";position:absolute;inset:0;background:rgba(34,197,94,.35)}
.cell.preview.bad::after{background:rgba(239,68,68,.45)}
.legend{display:flex;gap:1rem;margin-top:.6rem}
.legend .cell.demo{width:20px;height:20px;border-radius:4px}
.palette{display:grid;grid-template-columns:repeat(6,1fr);gap:.5rem;margin-top:.5rem}
.tile{background:#0b1220;border:1px solid var(--line);border-radius:.6rem;padding:.4rem;cursor:grab;position:relative}
.tile .mini{display:grid;grid-template-columns:repeat(5,12px);grid-auto-rows:12px;gap:2px;justify-content:center}
.tile .mini .c{background:#1b273b}
.tile .mini .c.on{background:#1e90ff}
.pieces{display:grid;grid-template-columns:repeat(6,1fr);gap:.35rem;margin-top:.5rem}
.piece-toggle{display:flex;gap:.35rem;align-items:center;background:#0b1220;border:1px solid var(--line);border-radius:.5rem;padding:.25rem .5rem;cursor:pointer}
.piece-toggle input{accent-color:#22c55e}
.stats p{margin:.25rem 0}
@media (max-width:980px){main{grid-template-columns:1fr}}
