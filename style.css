/* Reset/struttura base: adatta la tua esistente se serve */
:root{color-scheme:dark}
*{box-sizing:border-box}
html,body{margin:0;background:#0b1220;color:#e7e7ef;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}

/* Board */
.board{
  --w:10; --h:6;
  display:grid;
  grid-template-columns:repeat(var(--w),1fr);
  gap:2px;
  width:100%;
  max-width:calc(100vw - 1rem);
  aspect-ratio: var(--w) / var(--h);
  background:#0f1a33;
  padding:2px;
  border-radius:12px;
  border:1px solid #1a2a4d;
  user-select:none; -webkit-user-select:none; -webkit-touch-callout:none; touch-action:none;
}
.cell{position:relative;background:#0e172b;border-radius:4px}
.cell.dark{background:#0c1425}
.cell.hole{background:#1b0f0f}
.cell.piece{
  outline: 2px solid rgba(255,255,255,.22);
  border-radius: 4px;
  filter:saturate(.9) brightness(1.02); /* più morbido */
}

/* Ghost (anteprima) più tenue */
.cell.preview::after{
  content:"";
  position:absolute;
  inset:0;
  background:rgba(34,197,94,.30);
  outline:1px dashed rgba(34,197,94,.8);
  border-radius:3px;
}
.cell.preview.bad::after{
  background:rgba(239,68,68,.45);
  outline:1px dashed rgba(239,68,68,.9);
}

/* Flash verde brevissimo quando il pezzo viene posato */
.cell.flash::after{
  content:"";
  position:absolute;
  inset:0;
  background:rgba(34,197,94,.35);
  border-radius:3px;
  animation:placeFlash .18s ease-out forwards;
}
@keyframes placeFlash{
  0%{opacity:1} 100%{opacity:0}
}

/* Palette (mini 5x5) — adatta classi ai tuoi markup esistenti */
.palette{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(86px,1fr));
  gap:10px;
}
.tile{
  background:#0f1a33;border:1px solid #1a2a4d;border-radius:12px;
  padding:10px;display:grid;gap:6px;
  user-select:none;-webkit-user-select:none;-webkit-touch-callout:none;touch-action:none
}
.tile .mini{--sq:16px;display:grid;grid-template-columns:repeat(5,var(--sq));grid-auto-rows:var(--sq);gap:3px;justify-content:center}
.tile .mini .cell{width:var(--sq);height:var(--sq);background:#0e172b;border-radius:4px}
.tile .mini .cell.on{background:#1e90ff}
.tile .ctrls{display:flex;gap:6px}
.tile .ctrls button{padding:6px 8px;border-radius:10px;background:#0b1326;border:1px solid #223055;color:#dbeafe}

/* UI — pulsanti leggibili */
button, .controls select, .controls input { font-size:16px; line-height:1.15; }
button { font-weight:700; letter-spacing:.2px; padding:10px 14px; border-radius:10px; }
button.ghost{ background:#ffffff; color:#0f172a; border:1px solid #3b82f6; }
button.ghost:hover{ background:#f1f5f9; border-color:#2563eb; }

/* Drag su mobile: blocca selezione/callout/drag nativo */
.board, #palette, #palette .tile, .cell, .controls, .panel{
  -webkit-user-select:none; user-select:none; -webkit-touch-callout:none;
}
#palette .tile, .cell{ touch-action:none; -webkit-user-drag:none; }

/* Responsive controlli/palette */
@media (max-width:960px){
  .controls { row-gap:.4rem; column-gap:.4rem; flex-wrap:wrap; }
  .palette{ grid-template-columns:repeat(auto-fit,minmax(72px,1fr)); gap:.4rem; }
}
@media (max-width:600px){
  .controls button, .controls select, .controls input{ font-size:17px; padding:11px 16px; }
}
