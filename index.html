<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pentomino Exact Cover</title>
  <meta name="theme-color" content="#0f172a" />
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" type="image/png" href="icons/favicon.png" />
  <link rel="apple-touch-icon" href="icons/icon-192.png" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="appbar">
    <div class="brand">
      <h1>Pentomino Exact Cover</h1>
    </div>
  </header>

  <!-- App a due righe: controlli (sticky) + campo di gioco -->
  <main class="app">

    <!-- ===== CONTROLLI STICKY IN ALTO ===== -->
    <section class="controls panel">
      <div class="controls-row">
        <label for="preset">Preset:</label>
        <select id="preset">
          <option value="6x10" selected>6 × 10</option>
          <option value="5x12">5 × 12</option>
          <option value="4x15">4 × 15</option>
          <option value="3x20">3 × 20</option>
          <option value="8x8h">8 × 8 con fori</option>
          <option value="custom">Custom…</option>
        </select>

        <input id="w" type="number" min="3" max="20" value="10" aria-label="Larghezza" />
        <input id="h" type="number" min="3" max="20" value="6"  aria-label="Altezza"  />

        <button id="newBtn">Nuova Griglia</button>
        <button id="holesBtn" class="ghost">Modifica Fori</button>
        <button id="resetHolesBtn" class="ghost">Svuota Fori</button>
      </div>

      <p id="status" class="status">Pronto.</p>
    </section>

    <!-- ===== CAMPO DI GIOCO: BOARD + PALETTE STICKY IN BASSO ===== -->
    <section class="playfield">

      <!-- Board centrata che si scala allo spazio disponibile -->
      <div class="board-wrap">
        <div id="board" class="board"></div>
      </div>

      <!-- Palette in basso: sticky + scroll orizzontale -->
      <div class="palette-bar">
        <div class="manual panel2">
          <h3>Trascina i pezzi</h3>
          <div class="controls">
            <label for="pieceSelect">Pezzo:</label>
            <select id="pieceSelect"></select>
            <button id="rotBtn" class="ghost">Ruota ↻</button>
            <button id="flipBtn" class="ghost">Specchia ⇋</button>
            <button id="removeBtn" class="ghost">Rimuovi</button>
            <button id="clearPlacedBtn" class="ghost">Svuota tutti</button>
          </div>

          <div id="palette" class="palette"></div>
        </div>
      </div>

    </section>
  </main>

  <script src="script.js" defer></script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./service-worker.js');
    }
  </script>
</body>
</html>
